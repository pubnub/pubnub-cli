{"version":3,"sources":["index.js"],"names":["isCLI","logger","Logger","transports","Console","networking","endpoint","initComponent","interactive","sessionComponent","associateComponent","associate","perform","bind","init","block","createBlock","handler","createEventHandler","session","check","checkSession","create","createSession","delete","deleteSession"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;;;;;aAIE,kBAA2B;AAAA,MAAfA,KAAe,uEAAP,KAAO;;AAAA;;AACzB,OAAKC,MAAL,GAAc,IAAK,kBAAQC,MAAb,CAAqB;AACjCC,gBAAY,CACV,IAAK,kBAAQA,UAAR,CAAmBC,OAAxB,EADU;AADqB,GAArB,CAAd;;AAMA,OAAKC,UAAL,GAAkB,yBAAe,EAAEC,UAAU,0BAAZ,EAAwCL,QAAQ,KAAKA,MAArD,EAAf,CAAlB;;AAEA,OAAKM,aAAL,GAAqB,mBAAkB,EAAEF,YAAY,KAAKA,UAAnB,EAA+BJ,QAAQ,KAAKA,MAA5C,EAAoDO,aAAaR,KAAjE,EAAlB,CAArB;AACA,OAAKS,gBAAL,GAAwB,sBAAqB,EAAEJ,YAAY,KAAKA,UAAnB,EAA+BJ,QAAQ,KAAKA,MAA5C,EAAoDO,aAAaR,KAAjE,EAArB,CAAxB;AACA,OAAKU,kBAAL,GAA0B,wBAAuB,EAAEL,YAAY,KAAKA,UAAnB,EAA+BI,kBAAkB,KAAKA,gBAAtD,EAAwER,QAAQ,KAAKA,MAArF,EAA6FO,aAAaR,KAA1G,EAAvB,CAA1B;;AAEA,OAAKW,SAAL,GAAiB,KAAKD,kBAAL,CAAwBE,OAAxB,CAAgCC,IAAhC,CAAqC,KAAKH,kBAA1C,CAAjB;;AAEA,OAAKI,IAAL,GAAY;AACVC,WAAO,KAAKR,aAAL,CAAmBS,WAAnB,CAA+BH,IAA/B,CAAoC,KAAKN,aAAzC,CADG;AAEVU,aAAS,KAAKV,aAAL,CAAmBW,kBAAnB,CAAsCL,IAAtC,CAA2C,KAAKN,aAAhD;AAFC,GAAZ;;AAKA,OAAKY,OAAL,GAAe;AACbC,WAAO,KAAKX,gBAAL,CAAsBY,YAAtB,CAAmCR,IAAnC,CAAwC,KAAKJ,gBAA7C,CADM;AAEba,YAAQ,KAAKb,gBAAL,CAAsBc,aAAtB,CAAoCV,IAApC,CAAyC,KAAKJ,gBAA9C,CAFK;AAGbe,YAAQ,KAAKf,gBAAL,CAAsBgB,aAAtB,CAAoCZ,IAApC,CAAyC,KAAKJ,gBAA9C;AAHK,GAAf;AAKD,C","file":"index.js","sourcesContent":["import winston from 'winston';\n\nimport Networking from './networking';\n\nimport SessionComponent from './components/session';\nimport InitComponent from './components/init';\nimport AssociateComponent from './components/associate';\n\nexport default class {\n\n  constructor(isCLI = false) {\n    this.logger = new (winston.Logger)({\n      transports: [\n        new (winston.transports.Console)()\n      ]\n    });\n\n    this.networking = new Networking({ endpoint: 'https://admin.pubnub.com', logger: this.logger });\n\n    this.initComponent = new InitComponent({ networking: this.networking, logger: this.logger, interactive: isCLI });\n    this.sessionComponent = new SessionComponent({ networking: this.networking, logger: this.logger, interactive: isCLI });\n    this.associateComponent = new AssociateComponent({ networking: this.networking, sessionComponent: this.sessionComponent, logger: this.logger, interactive: isCLI });\n\n    this.associate = this.associateComponent.perform.bind(this.associateComponent);\n\n    this.init = {\n      block: this.initComponent.createBlock.bind(this.initComponent),\n      handler: this.initComponent.createEventHandler.bind(this.initComponent)\n    };\n\n    this.session = {\n      check: this.sessionComponent.checkSession.bind(this.sessionComponent),\n      create: this.sessionComponent.createSession.bind(this.sessionComponent),\n      delete: this.sessionComponent.deleteSession.bind(this.sessionComponent)\n    };\n  }\n}\n"]}