{"version":3,"sources":["cli/cli-init.js"],"names":["path","require","program","EntryPoint","packageInfo","entryPoint","isCLI","option","version","parse","process","argv","operation","rawArgs","exit","folderPath","isAbsolute","join","cwd","init","block","console","log","logger","error"],"mappings":";;AACA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,UAAUD,QAAQ,WAAR,CAAhB;;AAEA,IAAME,aAAaF,QAAQ,aAAR,CAAnB;AACA,IAAMG,cAAcH,QAAQ,oBAAR,CAApB;;AAEA,IAAMI,aAAa,IAAIF,UAAJ,CAAe,EAAEG,OAAO,IAAT,EAAf,CAAnB;;AAEAJ,QACGK,MADH,CACU,cADV,EAC0B,6EAD1B,EAEGA,MAFH,CAEU,gBAFV,EAE4B,0GAF5B,EAGGC,OAHH,CAGWJ,YAAYI,OAHvB,EAIGC,KAJH,CAISC,QAAQC,IAJjB;;AAMA,IAAMC,YAAYV,QAAQW,OAAR,CAAgB,CAAhB,CAAlB;;AAEA,IAAI,CAACD,SAAL,EAAgBF,QAAQI,IAAR,CAAa,CAAb;;AAEhB,IAAIF,cAAc,OAAlB,EAA2B;AACzB,MAAIG,aAAa,IAAjB;;AAEA,MAAIb,QAAQW,OAAR,CAAgB,CAAhB,CAAJ,EAAwB;AACtB,QAAIb,KAAKgB,UAAL,CAAgBd,QAAQW,OAAR,CAAgB,CAAhB,CAAhB,CAAJ,EAAyC;AACvCE,mBAAab,QAAQW,OAAR,CAAgB,CAAhB,CAAb;AACD,KAFD,MAEO;AACLb,WAAKiB,IAAL,CAAUP,QAAQQ,GAAR,EAAV,EAAyBhB,QAAQW,OAAR,CAAgB,CAAhB,CAAzB;AACD;AACF,GAND,MAMO;AACLE,iBAAaf,KAAKiB,IAAL,CAAUP,QAAQQ,GAAR,EAAV,EAAyB,GAAzB,CAAb;AACD;;AAEDb,aAAWc,IAAX,CAAgBC,KAAhB,CAAsB,EAAEL,sBAAF,EAAtB;AACD,CAdD,MAcO,IAAIH,cAAc,SAAd,IAA2BA,cAAc,eAA7C,EAA8D;AACnES,UAAQC,GAAR,CAAY,UAAZ;AACD,CAFM,MAEA;AACLjB,aAAWkB,MAAX,CAAkBC,KAAlB,CAAwB,0BAAxB;AACD","file":"cli-init.js","sourcesContent":["\nconst path = require('path');\nconst program = require('commander');\n\nconst EntryPoint = require('../index.js');\nconst packageInfo = require('../../package.json');\n\nconst entryPoint = new EntryPoint({ isCLI: true });\n\nprogram\n  .option('block [path]', 'Intialize new block; uses current working directory if path is not supplied')\n  .option('handler [path]', 'Intialize new event handler;uses current working directory if path is not supplied. alias: event-handler')\n  .version(packageInfo.version)\n  .parse(process.argv);\n\nconst operation = program.rawArgs[2];\n\nif (!operation) process.exit(1);\n\nif (operation === 'block') {\n  let folderPath = null;\n\n  if (program.rawArgs[3]) {\n    if (path.isAbsolute(program.rawArgs[3])) {\n      folderPath = program.rawArgs[3];\n    } else {\n      path.join(process.cwd(), program.rawArgs[3]);\n    }\n  } else {\n    folderPath = path.join(process.cwd(), '.');\n  }\n\n  entryPoint.init.block({ folderPath });\n} else if (operation === 'handler' || operation === 'event-handler') {\n  console.log('handler!');\n} else {\n  entryPoint.logger.error('operation not recognized');\n}\n"]}